---
title: Swift
tags: Notes Computer-Science Swift
article_header:
  type: 
  image:
    src: 
---

Swift Learning Notes

<!--more-->

# ç®€ä»‹

Swiftè¯­è¨€ç”±è‹¹æœå…¬å¸æ¨å‡ºï¼Œæ˜¯ä¸€ç§ç°ä»£åŒ–ã€å¼ºå¤§ã€ç›´è§‚çš„ç¼–ç¨‹è¯­è¨€ï¼Œé€‚ç”¨äºiOS, macOSï¼ŒtvOSï¼ŒwatchOSç­‰ç³»ç»Ÿã€‚è¿™ä¸ªè¯­è¨€é€šè¿‡ç°ä»£åŒ–çš„è®¾è®¡ï¼Œé¿å…äº†ä¸€äº›æ—¥å¸¸ç¼–ç¨‹ä¸­é‡åˆ°çš„ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼š

- å˜é‡æœªåˆå§‹åŒ–å°±è¢«ä½¿ç”¨
- æ•°ç»„è®¿é—®è¶Šç•Œ
- æ•´æ•°æº¢å‡º
- ç©ºå€¼å¤„ç†
- è‡ªåŠ¨å†…å­˜ç®¡ç†
- é”™è¯¯å¤„ç†åŠæ¢å¤

# å¿«é€Ÿä¸Šæ‰‹
## Hello World

Swiftçš„Hello world:
```swift
print("Hello World!")
```
è¿™é‡Œæœ‰2ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š

- è¿™ä¸€è¡Œä»£ç å·²ç»æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç¨‹åºï¼Œä¸éœ€è¦å¼•å…¥ä»»ä½•åº“è¿›è¡Œè¾“å…¥è¾“å‡º(ä¸ä¼ ç»Ÿçš„C/Objective-Cä¸åŒ)ï¼›ä¹Ÿä¸éœ€è¦æ‰‹åŠ¨æ·»åŠ main()å‡½æ•°ä½œä¸ºå‡½æ•°å…¥å£(ç±»ä¼¼Python)ï¼Œå› ä¸ºå…¨å±€æ‰€ç”¨åŸŸä¸‹çš„ä»£ç é»˜è®¤å°±æ˜¯å‡½æ•°å…¥å£
- ä¸éœ€è¦åœ¨è¡Œæœ«æ·»åŠ åˆ†å·

## å¸¸é‡ä¸å˜é‡
ä¸å…¶ä»–è¯­è¨€ç›¸ä¼¼ï¼ŒSwiftä¸­æœ‰å¸¸é‡ä¸å˜é‡çš„æ¦‚å¿µï¼Œåœ¨å£°æ˜æ—¶åˆ†åˆ«éœ€è¦ç”¨letå’Œvarè¿›è¡Œä¿®é¥°ã€‚å¸¸é‡åœ¨å£°æ˜åå°±ä¸å¯ä»¥è¢«å†æ¬¡èµ‹å€¼ä¿®æ”¹ã€‚Swiftæ¨èåœ¨èƒ½ä½¿ç”¨å¸¸é‡çš„åœºåˆä¸‹ï¼Œå°½å¯èƒ½ä½¿ç”¨å¸¸é‡ã€‚
```swift
let maximumNumberOfLoginAttempts = 10
var currentLoginAttempt = 0
```
å¦‚æœè¦å£°æ˜å¤šä¸ªå¸¸é‡/å˜é‡ï¼Œå¯ä»¥ç”¨é€—å·åˆ†éš”ï¼š
```swift
var x = 0.0, y = 0.0, z = 0.0
```

---

åœ¨å£°æ˜å˜é‡æ—¶ï¼Œå¯ä»¥æ˜¾å¼åœ°æ·»åŠ ç±»å‹æ³¨é‡Šï¼ŒæŒ‡å®šå˜é‡çš„ç±»å‹ï¼›ä¹Ÿå¯ä»¥ç›´æ¥èµ‹å€¼ï¼Œç”±ç¼–è¯‘å™¨è¿›è¡Œéšå¼çš„ç±»å‹æ¨æ–­ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œç¼–è¯‘å™¨çš„ç±»å‹æ¨æ–­å¯ä»¥æ­£ç¡®åº”ä»˜å¤§éƒ¨åˆ†ç»™å®šçš„åˆå§‹å€¼ï¼Œè¿™ä¸ºå¼€å‘è€…èŠ‚çœäº†ä¸å°‘æ—¶é—´ã€‚
```swift
var welcomeMessage: String
var red, green, blue: Double
```

---

Swiftå˜é‡åä¸­ä¸èƒ½å«æœ‰ç©ºæ ¼ã€æ•°å­¦ç¬¦å·ã€ç®­å¤´ã€'-'ï¼Œä¹Ÿä¸èƒ½ä»¥æ•°å­—ä½œä¸ºèµ·å§‹å­—ç¬¦ã€‚ä¸ä¸€äº›ä¼ ç»Ÿè¯­è¨€ä¸åŒçš„æ˜¯ï¼š

- Swiftæ”¯æŒä½¿ç”¨Unicodeå­—ç¬¦ä½œä¸ºå˜é‡åæˆ–å˜é‡å€¼ï¼Œå› æ­¤è¯¸å¦‚emojiè¡¨æƒ…ä¹‹ç±»çš„ç¬¦å·å¯ä»¥è¢«ä½¿ç”¨
- Swiftæ”¯æŒèµ·ä¸€ä¸ªä¸ä¿ç•™å…³é”®å­—ç›¸åŒçš„å˜é‡åï¼Œå¦‚æœè¦è¿™ä¹ˆåšçš„è¯ï¼Œéœ€è¦åœ¨å˜é‡åä¸¤ä¾§æ·»åŠ '`'ã€‚ä½†ä¸€èˆ¬è€Œè¨€è¿™ç§åšæ³•ä¸è¢«æå€¡
```swift
let ğŸ¶ğŸ® = "dogcow"
let emoji = "ğŸ¶"

let `let` = 3
```

---

è¦æ‰“å°å˜é‡å€¼ï¼Œè°ƒç”¨print()å‡½æ•°å³å¯ã€‚å¦‚æœå˜é‡å€¼éœ€è¦åµŒå…¥åœ¨ä¸€ä¸ªStringä¸­ä¸€å¹¶è¾“å‡ºï¼Œå¯ä»¥ä½¿ç”¨\()çš„æ–¹å¼è¾“å‡ºï¼š
```swift
let friendlyWelcome = "Bonjour!"
print(friendlyWelcome)
print("The current value of friendlyWelcome is \(friendlyWelcome)")
```
## æ³¨é‡Š
ä¸Cè¯­è¨€ç±»ä¼¼ï¼ŒSwiftæ‹¥æœ‰å•è¡Œæ³¨é‡Šå’Œå¤šè¡Œæ³¨é‡Šçš„åŠŸèƒ½ï¼Œåˆ†åˆ«ç”¨//å’Œ/* */è¿›è¡Œæ ‡æ³¨ï¼š
```swift
// This is a comment.

/* This is also a comment
but is written over multiple lines. */
```
åœ¨æ­¤åŸºç¡€ä¸Šï¼ŒSwiftæ”¯æŒåµŒå¥—å¤šè¡Œæ³¨é‡Šï¼Œè¿™å¯¹äºåœ¨å¤§å‹é¡¹ç›®å·²æœ‰æ³¨é‡Šçš„ä»£ç ä¸Šè¿›ä¸€æ­¥è¡¥å……æ³¨é‡Šååˆ†æ–¹ä¾¿ï¼š
```swift
/* This is the start of the first multiline comment.
 /* This is the second, nested multiline comment. */
This is the end of the first multiline comment. */
```
## åˆ†å·
Swiftå¹¶ä¸å¼ºåˆ¶è¦æ±‚åœ¨è¡Œå°¾æ·»åŠ åˆ†å·ã€‚ç„¶è€Œï¼Œå¦‚æœè¦åœ¨åŒä¸€è¡Œä¸­å†™å…¥å¤šå¥è¡¨è¾¾å¼ï¼Œå°±éœ€è¦ä½¿ç”¨åˆ†å·è¿›è¡Œé—´éš”ï¼š
```swift
let cat = "ğŸ±"; print(cat)
```
# å˜é‡ç±»å‹
## æ•´æ•°
Swiftæä¾›äº†8ã€16ã€32ã€64ä½çš„æœ‰ç¬¦å·/æ— ç¬¦å·æ•´æ•°ã€‚å¯¹äºä¸åŒä½æ•°çš„æ•´æ•°ï¼Œéƒ½å¯ä»¥è·å–åˆ°å…¶æ”¯æŒçš„æœ€å¤§/æœ€å°å€¼ã€‚ä¾‹å¦‚è·å–æ— ç¬¦å·8ä½æ•´æ•°çš„æœ€å°ä¸æœ€å¤§å€¼ï¼š
```swift
let minValue = UInt8.min  // minValue is equal to 0, and is of type UInt8
let maxValue = UInt8.max  // maxValue is equal to 255, and is of type UInt8
```
å¤šæ•°æƒ…å†µä¸‹ï¼Œå¼€å‘è€…å¹¶ä¸éœ€è¦é€‰æ‹©è‡ªå·±éœ€è¦å¤šå°‘ä½çš„æ•´æ•°ï¼Œåªéœ€è¦ä½¿ç”¨Intæˆ–è€…UIntç±»å‹å³å¯ã€‚åœ¨32ä½çš„æœºå™¨ä¸Šï¼ŒIntçš„é•¿åº¦ç­‰åŒäºInt32çš„é•¿åº¦ï¼›åœ¨64ä½çš„æœºå™¨ä¸Šï¼ŒIntçš„é•¿åº¦ç­‰åŒäºInt64çš„é•¿åº¦ã€‚UIntä¹Ÿæ˜¯ç±»ä¼¼ã€‚

 å¦‚æœè¦è®©æŸä¸ªå˜é‡å¼ºè¡Œå­˜å‚¨ä¸€ä¸ªè¶…å‡ºå˜é‡ç±»å‹èŒƒå›´çš„å€¼ï¼Œå°†ä¼šå¼•èµ·é”™è¯¯ï¼š
```swift
let cannotBeNegative: UInt8 = -1
// UInt8 can't store negative numbers, and so this will report an error

let tooBig: Int8 = Int8.max + 1
// Int8 can't store a number larger than its maximum value,
// and so this will also report an error
```
## æµ®ç‚¹æ•°
Swiftä¸­çš„æœ‰ä¸¤ç§ç±»å‹çš„æµ®ç‚¹æ•°ï¼š

- Floatï¼Œè¡¨ç¤º32ä½æµ®ç‚¹æ•°
- Doubleï¼Œè¡¨ç¤º64ä½æµ®ç‚¹æ•°


è¿™ä¸¤ç§æµ®ç‚¹æ•°éƒ½æ˜¯æœ‰ç¬¦å·ç±»å‹çš„ã€‚åœ¨äºŒè€…éƒ½å¯ä»¥ä½¿ç”¨çš„åœºæ™¯ä¸‹ï¼Œæ¨èä½¿ç”¨Doubleç±»å‹ï¼Œä¿è¯æ›´é«˜çš„ç²¾ç¡®åº¦ã€‚
## æ•´æ•°å’Œæµ®ç‚¹æ•°çš„è½¬åŒ–
å¦‚æœè¦è¿›è¡Œè¿™ä¸¤ç§å˜é‡çš„äº’ç›¸è½¬åŒ–ï¼Œå¿…é¡»æ˜¾å¼åœ°æŒ‡å®šè½¬æ¢ç±»å‹ï¼š
```swift
let three = 3
let pointOneFourOneFiveNine = 0.14159
let pi = Double(three) + pointOneFourOneFiveNine
// pi equals 3.14159, and is inferred to be of type Double
```
ç‰¹åˆ«åœ°ï¼Œç”±æµ®ç‚¹æ•°è½¬ä¸ºæ•´æ•°ä¼šå¼•èµ·èˆå…¥è¯¯å·®ï¼Œåªä¼šä¿ç•™æµ®ç‚¹æ•°çš„æ•´æ•°éƒ¨åˆ†ï¼š
```swift
let integerPi = Int(pi)
// integerPi equals 3, and is inferred to be of type Int
```
## ç±»å‹æ¨å¯¼
Swiftçš„ç±»å‹æ¨å¯¼å…è®¸å¼€å‘è€…ç›´æ¥ç»™å˜é‡èµ‹å€¼ï¼Œè€Œä¸ç”¨æ˜¾å¼å£°æ˜å˜é‡ç±»å‹ã€‚æ‰€èµ‹çš„å€¼å¯ä»¥æ¥æºäºä¸€ä¸ªæ··åˆäº†å¤šç§å˜é‡ç±»å‹çš„è¡¨è¾¾å¼ï¼š
```swift
let meaningOfLife = 42
// meaningOfLife is inferred to be of type Int

let pi = 3.14159
// pi is inferred to be of type Double

let anotherPi = 3 + 0.14159
// anotherPi is also inferred to be of type Double
```
## æ•°å€¼å­—é¢é‡(Numeric Literals)
å¯¹äºä¸€äº›ä¸åŒè¿›åˆ¶çš„æ•´æ•°ï¼ŒSwiftå…è®¸å¼€å‘è€…åœ¨æ•°å­—å‰æ·»åŠ ç›¸åº”çš„å‰ç¼€è¿›è¡ŒæŒ‡å®šï¼š



- åè¿›åˆ¶ï¼šé»˜è®¤æ— å‰ç¼€
- äºŒè¿›åˆ¶ï¼š0b
- å…«è¿›åˆ¶ï¼š0o
- åå…­è¿›åˆ¶ï¼š0x
```swift
let decimalInteger = 17
let binaryInteger = 0b10001       // 17 in binary notation
let octalInteger = 0o21           // 17 in octal notation
let hexadecimalInteger = 0x11     // 17 in hexadecimal notation
```
å¯¹äºæµ®ç‚¹æ•°ï¼ŒSwiftæ”¯æŒåè¿›åˆ¶å’Œåå…­è¿›åˆ¶ä¸¤ç§è¡¨è¾¾ã€‚

- å¯¹äºåè¿›åˆ¶ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªeè¡¨ç¤ºæŒ‡æ•°ï¼Œåé¢åŠ ä¸Šå¹‚çš„å¤§å°
- å¯¹äºåå…­è¿›åˆ¶ï¼Œæœ‰0xçš„å‰ç¼€ï¼Œå¯ä»¥æ·»åŠ ä¸€ä¸ªpè¡¨ç¤ºæŒ‡æ•°ï¼Œåé¢åŠ ä¸Šå¹‚çš„å¤§å°
```swift
let decimalDouble = 12.1875
let exponentDouble = 1.21875e1
let hexadecimalDouble = 0xC.3p0
```
ä¸è®ºæ˜¯æ•´æ•°æµ®ç‚¹æ•°ï¼ŒSwiftéƒ½å…è®¸åœ¨ä¸æ”¹å˜å˜é‡å€¼çš„å‰æä¸‹ï¼Œæ·»åŠ ä»»æ„æ•°é‡çš„'0'æˆ–è€…æ˜¯ä¸‹åˆ’çº¿'_'ï¼Œä»¥æ­¤ä¿è¯æ›´å¥½çš„å¯è¯»æ€§ï¼š
```swift
let paddedDouble = 000123.456
let oneMillion = 1_000_000
let justOverOneMillion = 1_000_000.000_000_1
```

## å˜é‡ç±»å‹åˆ«å(Typealias)


Swiftå…è®¸ä¸ºå˜é‡ç±»å‹å–ä¸€ä¸ªåˆ«åï¼Œæ–¹ä¾¿ä½¿ç”¨ï¼š


```swift
typealias AudioSample = UInt16
var maxAmplitudeFound = AudioSample.min
// maxAmplitudeFound is now 0
```
## å¸ƒå°”å€¼(Boolean)


Swiftä¸­çš„å¸ƒå°”å€¼åªæœ‰trueå’Œfalseä¸¤ç§å€¼ã€‚ä¸Cè¯­è¨€ä¸åŒï¼ŒSwiftä¸­çš„å¸ƒå°”å€¼ä¸èƒ½è¢«è½¬åŒ–æˆ0å’Œ1å»ç†è§£ï¼Œå› æ­¤åœ¨å¸ƒå°”åˆ¤æ–­ä¸­ï¼Œ0å’Œ1ä¸èƒ½ä½œä¸ºåˆ¤æ–­æ¡ä»¶ï¼š


```swift
let orangesAreOrange = true
let turnipsAreDelicious = false


let i = 1
if i {
    // this example will not compile, and will report an error
}


let i = 1
if i == 1 {
    // this example will compile successfully
}
```
## å…ƒç»„(Tuple)


Swiftå…è®¸å°†è‹¥å¹²ä¸ªå€¼ç»„åˆåœ¨ä¸€èµ·ï¼Œå˜æˆä¸€ä¸ªå¤åˆå€¼ï¼Œå³tupleã€‚tupleå¯ä»¥å­˜æ”¾ä»»æ„ç±»å‹çš„å€¼ï¼Œä¸åŒå€¼çš„å˜é‡ç±»å‹ä¹Ÿä¸éœ€è¦ç›¸åŒã€‚tupleå¯ä»¥æ–¹ä¾¿æŸäº›åœºåˆä¸‹è¿”å›ä¸€ç³»åˆ—å˜é‡å€¼ã€‚


ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œtupleçš„ä½¿ç”¨å’Œæ‹†è§£è¿‡ç¨‹å¦‚ä¸‹ï¼š
```swift
let http404Error = (404, "Not Found")
// http404Error is of type (Int, String), and equals (404, "Not Found")


let (statusCode, statusMessage) = http404Error
print("The status code is \(statusCode)")
// Prints "The status code is 404"
print("The status message is \(statusMessage)")
// Prints "The status message is Not Found"


let (justTheStatusCode, _) = http404Error
print("The status code is \(justTheStatusCode)")
// Prints "The status code is 404"
```
æ­¤å¤–ï¼Œtupleåœ¨åˆå§‹åŒ–æ—¶å¯ä»¥ç›´æ¥æŒ‡å®šç±»å‹å’Œå€¼ï¼›åœ¨ä½¿ç”¨æ—¶ä¹Ÿå¯ä»¥ä¸æ‹†è§£ï¼Œç›´æ¥è®¿é—®å…¶ä¸­çš„å˜é‡åã€‚æŸç§ç¨‹åº¦ä¸Šï¼Œè¿™ç§ç”¨æ³•è´´è¿‘ç»“æ„ä½“å’Œç±»çš„æ€æƒ³ï¼š
```swift
let http200Status = (statusCode: 200, description: "OK")

print("The status code is \(http200Status.statusCode)")
// Prints "The status code is 200"
print("The status message is \(http200Status.description)")
// Prints "The status message is OK"
```
## å¯é€‰å€¼(Optional)


Swiftå¼•å…¥äº†Optionalå˜é‡çš„æ¦‚å¿µã€‚å½“ä¸€ä¸ªå˜é‡ä¸ç¡®å®šæ˜¯å¦ä¸ºç©ºå€¼æ—¶ï¼Œå¯ä»¥å°†å˜é‡å£°æ˜ä¸ºOptionalï¼Œç›¸å½“äºåœ¨åŸæ¥çš„å˜é‡ç±»å‹å¤–é¢åµŒå¥—äº†ä¸€å±‚å¤–è¡£ï¼Œè¿™ä¸ªå¤–è¡£åªæœ‰ä¸¤ä¸ªå€¼ï¼šæœ‰å€¼å’Œæ— å€¼ã€‚Optionalç±»å‹çš„ç¬¦å·æ˜¯åœ¨å…¶ä»–å˜é‡ç±»å‹ååŠ ä¸€ä¸ªé—®å·'?'ã€‚


Optionalç±»å‹çš„å˜é‡å¯ä»¥ä¸»åŠ¨å£°æ˜å¾—åˆ°ï¼Œç”±æ­¤è¿™ä¸ªå˜é‡å¯ä»¥è¢«èµ‹å€¼ä¸ºç©ºå€¼(nil)ï¼›å¦‚æœå£°æ˜Optionalä¹‹åä¸èµ‹å€¼ï¼Œé»˜è®¤å€¼ä¹Ÿä¼šè¢«ç¼–è¯‘å™¨å£°æ˜ä¸ºnilï¼š
```swift
var serverResponseCode: Int? = 404
// serverResponseCode contains an actual Int value of 404
serverResponseCode = nil
// serverResponseCode now contains no value

var surveyAnswer: String?
// surveyAnswer is automatically set to nil
```


å¦‚æœå°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬ä¸ºæ•´æ•°ç±»å‹æ—¶ï¼Œå¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªOptionalç±»å‹å˜é‡ï¼Œå› ä¸ºå­—ç¬¦ä¸²è½¬åŒ–æœ‰å¯èƒ½å¤±è´¥ï¼Œä¸èƒ½ä¿è¯ä¸€å®šä¼šå¾—åˆ°ä¸€ä¸ªæ•´æ•°ç±»å‹ï¼š
```swift
let possibleNumber = "123"
let convertedNumber = Int(possibleNumber)
// convertedNumber is inferred to be of type "Int?", or "optional Int"
```

---



è¦ç¡®ä¿Optionalå˜é‡æœ‰å€¼ï¼Œå¿…é¡»æ˜¾å¼åœ°åˆ¤æ–­å˜é‡å€¼æ˜¯å¦å’Œnilç›¸ç­‰ã€‚åœ¨ç¡®ä¿æŸä¸ªå€¼ä¸æ˜¯ç©ºå€¼çš„æ—¶å€™ï¼Œä½¿ç”¨!ç¬¦å·æå–(unwrap)å‡ºOptionalå˜é‡ä¸­çš„å€¼ï¼š
```swift
if convertedNumber != nil {
    print("convertedNumber has an integer value of \(convertedNumber!).")
}
// Prints "convertedNumber has an integer value of 123."
```
è¿™ä¸€åˆ¤æ–­æµç¨‹å¾€å¾€èƒ½ç»“åˆæ§åˆ¶é€»è¾‘ï¼Œåˆ¤æ–­éœ€ä¸éœ€è¦æ‰§è¡ŒæŸæ®µä»£ç ã€‚å¸¸ç”¨çš„æ–¹æ³•æ˜¯ä½¿ç”¨å¯é€‰å€¼ç»‘å®šï¼ˆOptional Bindingï¼‰ï¼Œå³å½“å‘ç°æŸä¸ªå˜é‡ä¸­æœ‰å€¼æ—¶ï¼Œå°†è¿™ä¸ªå€¼æå–å‡ºæ¥èµ‹å€¼ç»™ä¸€ä¸ªæ–°å˜é‡ï¼Œä¹‹åå°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªæ–°å˜é‡ï¼Œçœå»é¢‘ç¹unwrapçš„éº»çƒ¦ã€‚


ç¬¬ä¸€ç§Optional Bindingçš„æ–¹å¼æ˜¯if letï¼Œå³åªæœ‰å½“å‰Optionalå˜é‡æœ‰å€¼æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œifä»£ç å—ä¸­çš„è¯­å¥ï¼š
```swift
if let constantName = someOptional {
    statements
}



if let actualNumber = Int(possibleNumber) {
    print("The string \"\(possibleNumber)\" has an integer value of \(actualNumber)")
} else {
    print("The string \"\(possibleNumber)\" couldn't be converted to an integer")
}
// Prints "The string "123" has an integer value of 123"
```
ç¬¬äºŒç§Optional Bindingçš„æ–¹å¼æ˜¯guard letï¼Œå¦‚æœå½“å‰Optionalå˜é‡ä¸ºç©ºå€¼ï¼Œå°±ä¼šç›´æ¥æ‰§è¡Œelseä¸­çš„è¯­å¥ï¼š
```swift
guard let constantName = someOptional {
    statements
}

guard let name = name else {
    return
}
```

---

æŸäº›æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è®¤ä¸ºä¸€äº›Optionalå˜é‡åªè¦è®¾å®šäº†åˆå§‹å€¼ï¼Œä¹‹åå°±ä¼šå§‹ç»ˆæœ‰å€¼ï¼Œä¸ä¼šå†å˜æˆnilã€‚ç”±æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†å˜é‡å£°æ˜ä¸ºéšå¼è§£æå¯é€‰å€¼(Implicitly unwrapped optional)ï¼Œè¿™æ ·åœ¨ä½¿ç”¨æ—¶è¿™ä¸ªå˜é‡æ—¶å°±ä¸éœ€è¦å¤šæ¬¡åˆ¤æ–­è§£æå˜é‡ã€‚


Implicitly unwrapped optionalåœ¨å˜é‡å£°æ˜æ—¶å°±éœ€è¦æŒ‡å®šï¼Œåªéœ€è¦å°†åŸæ¥optionalä¸­çš„'?'ç¬¦å·æ›¿æ¢ä¸º'!'ç¬¦å·ã€‚ç¼–è¯‘å™¨ä¼šå°è¯•å…ˆå°†å…¶å½“æˆæ˜¯ä¸€ä¸ªæ™®é€šçš„Optionalå˜é‡è¿›è¡Œä½¿ç”¨ï¼›å¦‚æœå‘ç°è¿™ä¸ªå˜é‡æœ‰å€¼ï¼Œåˆ™ä¼šå¼ºåˆ¶è§£æå‡ºå…¶ä¸­çš„å˜é‡å€¼ã€‚
```swift
let possibleString: String? = "An optional string."
let forcedString: String = possibleString! // requires an exclamation point

let assumedString: String! = "An implicitly unwrapped optional string."
let implicitString: String = assumedString // no need for an exclamation point

let optionalString = assumedString
// The type of optionalString is "String?" and assumedString isn't force-unwrapped.
```
æ³¨æ„ï¼Œå¦‚æœä¸€ä¸ªImplicitly unwrapped optionalå˜é‡å®é™…ä¸Šä¸ºç©ºå€¼æ—¶ï¼Œè¯•å›¾è§£æå…¶å˜é‡å€¼çš„æ“ä½œå°±ä¼šè§¦å‘é”™è¯¯ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦è¿›è¡Œç©ºå€¼æ£€æŸ¥ã€‚åœ¨ç¡®ä¿æœ‰å€¼çš„å‰æä¸‹ï¼Œæˆ‘ä»¬æ—¢å¯ä»¥åƒä½¿ç”¨æ™®é€šOptionalå˜é‡é‚£æ ·ï¼Œæ˜¾å¼åœ°å†è§£æä¸€æ¬¡ï¼›ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå› ä¸ºè¿™ä¸ªå˜é‡å£°æ˜æ—¶å·²ç»éšå¼è§£æè¿‡äº†ã€‚


```swift
if assumedString != nil {
    print(assumedString!)
}
// Prints "An implicitly unwrapped optional string."


if let definiteString = assumedString {
    print(definiteString)
}
```
# è¿ç®—ç¬¦å·(Operators)


Swiftä¸­æ ¹æ®è¿ç®—æ•°çš„ä¸ªæ•°ï¼Œå¯ä»¥å°†è¿ç®—ç¬¦åˆ†ä¸ºä¸‰ç±»ï¼š



- ä¸€å…ƒè¿ç®—ç¬¦ï¼šä½œç”¨äºå•ä¸ªæ“ä½œæ•°ï¼Œå¾€å¾€ç›´æ¥å†™äºæ“ä½œæ•°å·¦ä¾§æˆ–å³ä¾§ã€‚ä¾‹å¦‚-aæˆ–è€…a!
- äºŒå…ƒè¿ç®—ç¬¦ï¼šä½œç”¨äºä¸¤ä¸ªæ“ä½œæ•°ã€‚ä¾‹å¦‚ä¸¤ä¸ªæ•°çš„åŠ å‡ä¹˜é™¤(+ - * /)ï¼Œèµ‹å€¼( = )ï¼Œè¿ç®—åèµ‹å€¼(+=, -=, *=, /=)ï¼Œæ¯”è¾ƒ(==, <, >, <=, >=)ï¼Œéƒ¨åˆ†é€»è¾‘ç¬¦å·(&&, ||)
- ä¸‰å…ƒè¿ç®—ç¬¦ï¼šä½œç”¨äºä¸‰ä¸ªæ“ä½œæ•°ã€‚ä¸Cç±»ä¼¼ï¼ŒSwiftåªæœ‰ä¸€ä¸ªä¸‰å…ƒè¿ç®—ç¬¦ï¼Œç”¨äºæ¡ä»¶åˆ¤æ–­ï¼Œå³a ? b : c



æ­¤å¤–ï¼ŒSwiftæœ‰ä¸€äº›ç‹¬ç‰¹çš„ç¬¦å·ï¼Œéœ€è¦ç•™æ„ï¼š


- ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦(Nil-Coalescing)ï¼ša ?? bï¼Œæœ¬è´¨ä¸Šæ˜¯a != nil ? a! : bçš„ç¼©å†™ï¼Œç”¨äºå¿«é€Ÿä¸ºä¸€ä¸ªOptionalç©ºå€¼å˜é‡æä¾›ä¸€ä¸ªæ›¿ä»£çš„é»˜è®¤å€¼
- èŒƒå›´æ“ä½œç¬¦ï¼Œå…·ä½“åˆç»†åˆ†ä¸º
   - å…¨é—­ï¼Œå³a...bï¼Œè¡¨ç¤ºä»aåˆ°bçš„èŒƒå›´ï¼ŒåŒ…æ‹¬aå’Œb
   - åŠé—­ï¼Œå³a..<bï¼Œè¡¨ç¤ºä»aåˆ°bçš„èŒƒå›´ï¼ŒåŒ…æ‹¬aä½†ä¸åŒ…æ‹¬b
   - å•ä¾§ï¼Œå³a...æˆ–è€…...bï¼Œéå†èŒƒå›´å°†å–å†³äºå…·ä½“çš„Collectionç±»å‹ï¼Œå¯èƒ½ä¼šä»æŸä¸ªä½ç½®å¼€å§‹éå†åˆ°ç»“æŸï¼Œæˆ–æ˜¯ä»å¼€å¤´éå†åˆ°æŸä¸ªä½ç½®åœæ­¢

---

å¯¹äºé€»è¾‘æ“ä½œç¬¦ï¼ŒSwiftä¸­&&å’Œ||éƒ½æ˜¯left associatedçš„ï¼Œæ‰€ä»¥é»˜è®¤ä¸éœ€è¦æ·»åŠ æ‹¬å·ä¹Ÿèƒ½æ˜ç¡®ä¼˜å…ˆçº§ï¼›ä¸è¿‡å¼€å‘è€…ä»ç„¶å¯ä»¥æ˜¾å¼åœ°æ·»åŠ æ‹¬å·ï¼Œå¢åŠ å¯è¯»æ€§ï¼š

```swift
if enteredDoorCode && passedRetinaScan || hasDoorKey || knowsOverridePassword {
    print("Welcome!")
} else {
    print("ACCESS DENIED")
}
// Prints "Welcome!"


if (enteredDoorCode && passedRetinaScan) || hasDoorKey || knowsOverridePassword {
    print("Welcome!")
} else {
    print("ACCESS DENIED")
}
// Prints "Welcome!"
```
# å­—ç¬¦ä¸²ä¸å­—ç¬¦(Strings and Characters)
## å­—ç¬¦ä¸²å­—é¢é‡(String Literals)


Swiftçš„å­—ç¬¦ä¸²é€šè¿‡å¤´å°¾å¼•å·"æ ‡æ³¨ï¼š

```swift
let someString = "Some string literal value"
```
å¦‚æœå­—ç¬¦ä¸²å¾ˆé•¿ï¼Œéœ€è¦å†™åœ¨å¤šè¡Œä¸­ï¼Œå¯ä»¥ä½¿ç”¨"""æ ‡æ³¨åœ¨å¤´å°¾ï¼š
```swift
let quotation = """
The White Rabbit put on his spectacles.  "Where shall I begin,
please your Majesty?" he asked.

"Begin at the beginning," the King said gravely, "and go on
till you come to the end; then stop."
"""



let lineBreaks = """

This string starts with a line break.
It also ends with a line break.

"""
```
ä¸ºäº†å¢åŠ å¯è¯»æ€§ï¼Œä¹Ÿå¯ä»¥åœ¨å¤šè¡Œå­—ç¬¦ä¸²ä¸­äººä¸ºæ·»åŠ æ¢è¡Œç¬¦â€˜\'ï¼š
```swift
let softWrappedQuotation = """
The White Rabbit put on his spectacles.  "Where shall I begin, \
please your Majesty?" he asked.

"Begin at the beginning," the King said gravely, "and go on \
till you come to the end; then stop."
"""
```
æ³¨æ„ï¼Œå¤šè¡Œå­—ç¬¦ä¸²ä¸­å¯ä»¥ä½¿ç”¨ç¼©è¿›ï¼Œå› æ­¤è¦æ³¨æ„ç¼©è¿›çš„ç©ºé—´ï¼Œé¿å…è¾“å‡ºå­—ç¬¦ä¸²æ—¶äº§ç”Ÿç©ºæ ¼ï¼š
![indentation.png](https://raw.githubusercontent.com/MikeYan01/mikeyan01.github.io/master/assets/images/Swift/indentation.png)

---

Swiftçš„å­—ç¬¦ä¸²æ”¯æŒä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼š


- \0ï¼šç©ºå­—ç¬¦
- \\ï¼šåæ–œçº¿
- \tï¼šåˆ¶è¡¨ç¬¦
- \nï¼šæ¢è¡Œç¬¦
- \', \"ï¼šå•åŒå¼•å·è½¬ä¹‰
- \u{n}ï¼šåå…­è¿›åˆ¶ä¸‹çš„Unicodeå­—ç¬¦è¡¨ç¤ºã€‚næ˜¯ä¸€ä¸ª1~8ä½çš„åå…­è¿›åˆ¶æ•°


ä¸€ç§ç‰¹æ®Šæƒ…å†µæ˜¯ï¼Œåœ¨å¤šè¡Œå­—ç¬¦ä¸²ä¸­å¦‚æœè¦æ’å…¥ä¸‰ä¸ª"""ï¼Œæˆ‘ä»¬å¯ä»¥åªè½¬ä¹‰ç¬¬ä¸€ä¸ªå¼•å·ï¼Œä¹Ÿå¯ä»¥ä¸‰ä¸ªéƒ½è½¬ä¹‰ï¼š
```swift
let threeDoubleQuotationMarks = """
Escaping the first quotation mark \"""
Escaping all three quotation marks \"\"\"
"""
```


å¦‚æœæƒ³è¦ç¡®ä¿å¤šè¡Œå­—ç¬¦ä¸²ä¸­çš„æ‰€æœ‰è½¬ä¹‰ç¬¦å·éƒ½ä¸èµ·æ•ˆï¼Œåªæ˜¯è¢«æ‰“å°å‡ºæ¥è€Œå·²ï¼Œå¯ä»¥åœ¨å­—ç¬¦ä¸²ä¸¤ä¾§åˆ†åˆ«æ·»åŠ #å·ï¼š

```swift
let threeMoreDoubleQuotationMarks = #"""
Here are three more double quotes: """
"""#
```
## å­—ç¬¦ä¸²åˆå§‹åŒ–
è¦å£°æ˜ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œå¯ä»¥è®¤ä¸ºèµ‹å€¼ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨ç±»æ„é€ å‡½æ•°ï¼ŒäºŒè€…å¾—åˆ°çš„æ˜¯ç›¸åŒçš„ç»“æœï¼š
```swift
var emptyString = ""               // empty string literal
var anotherEmptyString = String()  // initializer syntax
// these two strings are both empty, and are equivalent to each other
```
åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼š
```swift
if emptyString.isEmpty {
    print("Nothing to see here")
}
```
## å­—ç¬¦ä¸²çš„å€¼
å­—ç¬¦ä¸²å¯ä»¥è¢«å£°æ˜ä¸ºå¸¸é‡æˆ–è€…å˜é‡ã€‚å¦‚æœå£°æ˜ä¸ºå˜é‡ï¼Œå®ƒçš„å€¼å°±å¯ä»¥è¢«åå¤ä¿®æ”¹ï¼š
```swift
var variableString = "Horse"
variableString += " and carriage"
// variableString is now "Horse and carriage"

let constantString = "Highlander"
constantString += " and another Highlander"
// this reports a compile-time error - a constant string cannot be modified
```
æ³¨æ„åœ¨Swiftä¸­ï¼ŒStringæ˜¯å€¼ç±»å‹ï¼Œå› æ­¤å½“æŸä¸ªStringä½œä¸ºå‚æ•°è¢«ä¼ é€’åˆ°å…¶ä»–æ–¹æ³•ä¸­ï¼Œæˆ–è€…èµ‹å€¼ç»™å¦ä¸€ä¸ªStringå˜é‡æ—¶ï¼Œéƒ½ä¼šåœ¨å†…å­˜ä¸­è¿›è¡Œå€¼æ‹·è´ç”Ÿæˆä¸€ä¸ªæ–°çš„Stringå¯¹è±¡ï¼Œåç»­æ“ä½œåªä¼šå½±å“è¿™ä¸ªæ–°çš„å¯¹è±¡ï¼Œä¸å½±å“åŸæ¥çš„å¯¹è±¡ã€‚
## å­—ç¬¦


å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸ªå­—ç¬¦éƒ½æ˜¯Characterç±»å‹ã€‚å¯ä»¥é€šè¿‡éå†å­—ç¬¦ä¸²å¾—åˆ°è¯¦æƒ…ï¼š

```swift
for character in "Dog!ğŸ¶" {
    print(character)
}
// D
// o
// g
// !
// ğŸ¶
```
å£°æ˜å•ä¸ªå­—ç¬¦ï¼š
```swift
let exclamationMark: Character = "!"
```
å¯ä»¥é€šè¿‡äººä¸ºæ„é€ ä¸€ä¸ªCharacteræ•°ç»„ï¼Œå°†å…¶è½¬åŒ–ä¸ºStringï¼š
```swift
let catCharacters: [Character] = ["C", "a", "t", "!", "ğŸ±"]
let catString = String(catCharacters)
print(catString)
// Prints "Cat!ğŸ±"
```
## å­—ç¬¦ä¸²æ‹¼æ¥


ç›´æ¥ä½¿ç”¨è¿ç®—ç¬¦è¿›è¡Œä¸¤ä¸ªå­—ç¬¦ä¸²çš„æ‹¼æ¥ï¼š

```swift
let string1 = "hello"
let string2 = " there"et multiplier = 3
let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"
// message is "3 times 2.5 is 7.5"

var welcome = string1 + string2
// welcome now equals "hello there"


var instruction = "look over"
instruction += string2
// instruction now equals "look over there"
```
å¦‚æœè¦åœ¨å­—ç¬¦ä¸²åæ·»åŠ å­—ç¬¦ï¼Œå¯ä»¥ä½¿ç”¨Stringç±»ä¸­çš„appendæ–¹æ³•ï¼š
```swift
let exclamationMark: Character = "!"
welcome.append(exclamationMark)
// welcome now equals "hello there!"
```
## å€¼åµŒå…¥


ä½¿ç”¨\()å°†å˜é‡å€¼åµŒå…¥åˆ°Stringä¸­ã€‚æ³¨æ„æœ‰æ—¶å€™éœ€è¦è¿›è¡Œç±»å‹è½¬åŒ–ï¼š
```swift
let multiplier = 3
let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"
// message is "3 times 2.5 is 7.5"



print(#"6 times 7 is \#(6 * 7)."#)
// Prints "6 times 7 is 42."
```
## å­—ç¬¦ä¸²ç»Ÿè®¡
Stringä¸­çš„countå±æ€§ç»Ÿè®¡çš„æ˜¯Stringä¸­çš„Characterä¸ªæ•°ï¼š
```swift
let unusualMenagerie = "Koala ğŸ¨, Snail ğŸŒ, Penguin ğŸ§, Dromedary ğŸª"
print("unusualMenagerie has \(unusualMenagerie.count) characters")
// Prints "unusualMenagerie has 40 characters"
```
ç”±äºSwiftä½¿ç”¨äº†Extended grapheme clusteræœºåˆ¶ï¼Œå› æ­¤å¯¹Stringè¿›è¡Œçš„å­—ç¬¦æ·»åŠ å¹¶ä¸ä¸€å®šä¼šå½±å“åˆ°Stringä¸­çš„Characterä¸ªæ•°ï¼š
```swift
var word = "cafe"
print("the number of characters in \(word) is \(word.count)")
// Prints "the number of characters in cafe is 4"

word += "\u{301}"    // COMBINING ACUTE ACCENT, U+0301

print("the number of characters in \(word) is \(word.count)")
// Prints "the number of characters in cafeÌ is 4"
```
ç”±äºè¿™ä¸€æœºåˆ¶çš„å­˜åœ¨ï¼Œä¸åŒå­—ç¬¦åœ¨å†…å­˜ä¸­å æœ‰çš„ç©ºé—´å¹¶ä¸ä¸€å®šç›¸åŒï¼Œå°†Swiftçš„Stringè½¬ä¸ºObjective-Cçš„NSStringæ—¶ï¼Œä¹Ÿå¯èƒ½ä¼šäº§ç”Ÿé•¿åº¦ä¸Šçš„å˜åŒ–
```swift
var str = "Hello ğŸ˜˜" // the square is an emoji
str.characters.count // returns 7
(str as NSString).length // returns 8
```
## å­—ç¬¦ä¸²ä¸‹æ ‡è®¿é—®


Swiftå­—ç¬¦ä¸²æœ‰ä¸¤ä¸ªä¸‹æ ‡å±æ€§ï¼š

- startIndexï¼šå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªCharacter
- endIndexï¼šå­—ç¬¦ä¸²æœ€åä¸€ä¸ªCharacterä¹‹åçš„ä¸€ä¸ªä½ç½®


æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªoffSetByå±æ€§ï¼Œç”¨äºè®¡ç®—ä»æŸä¸ªä¸‹æ ‡ä¹‹ååç§»è‹¥å¹²ä½ç½®åçš„ä¸‹æ ‡ï¼š

```swift
let greeting = "Guten Tag!"
greeting[greeting.startIndex]
// G
greeting[greeting.index(before: greeting.endIndex)]
// !
greeting[greeting.index(after: greeting.startIndex)]
// u
let index = greeting.index(greeting.startIndex, offsetBy: 7)
greeting[index]
// a


greeting[greeting.endIndex] // Error
greeting.index(after: greeting.endIndex) // Error
```
å¯ä»¥é€šè¿‡indiceså±æ€§éå†æ‰€æœ‰ä¸‹æ ‡ï¼š
```swift
for index in greeting.indices {
    print("\(greeting[index]) ", terminator: "")
}
// Prints "G u t e n   T a g ! "
```

---

å¾—åˆ°ä¸‹æ ‡åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å­—ç¬¦ä¸²ç‰¹å®šä½ç½®æ’å…¥æˆ–åˆ é™¤ä¸€ä¸ªå­—ç¬¦æˆ–è€…ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š

```swift
var welcome = "hello"
welcome.insert("!", at: welcome.endIndex)
// welcome now equals "hello!"

welcome.insert(contentsOf: " there", at: welcome.index(before: welcome.endIndex))
// welcome now equals "hello there!"



welcome.remove(at: welcome.index(before: welcome.endIndex))
// welcome now equals "hello there"

let range = welcome.index(welcome.endIndex, offsetBy: -6)..<welcome.endIndex
welcome.removeSubrange(range)
// welcome now equals "hello"
```

---

é€šè¿‡ä¸Šè¿°ä¸‹æ ‡çš„æˆªå–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¾—åˆ°å­å­—ç¬¦ä¸²ï¼š

```swift
let greeting = "Hello, world!"
let index = greeting.firstIndex(of: ",") ?? greeting.endIndex
let beginning = greeting[..<index]
// beginning is "Hello"

// Convert the result to a String for long-term storage.
let newString = String(beginning)
```
## å­—ç¬¦ä¸²æ¯”è¾ƒ
ä½¿ç”¨==æˆ–è€…!=è¿›è¡Œå­—ç¬¦ä¸²æ¯”è¾ƒï¼š
```swift
let quotation = "We're a lot alike, you and I."
let sameQuotation = "We're a lot alike, you and I."
if quotation == sameQuotation {
    print("These two strings are considered equal")
}
// Prints "These two strings are considered equal"
```
æ³¨æ„ï¼Œåªè¦ä¸¤ä¸ªå­—ç¬¦ä¸²å³ä½¿ä¸¤ä¸ªå­—ç¬¦ä¸²åœ¨è¯­è¨€è¯­ä¹‰ä¸Šç›¸åŒï¼Œå³ä¾¿Unicodeå±‚é¢æœ‰ç€å¾®å°çš„å·®å¼‚ï¼Œä¹Ÿä¼šè¢«è§†ä½œç›¸åŒï¼š
```swift
var word = "cafe"
var newWord = "cafe" + "\u{301}"
print(word == newWord)
// return true
```

---

ä½¿ç”¨hasPrefix()å’ŒhasSuffix()æ–¹æ³•ï¼Œå¯ä»¥å¿«é€Ÿé€‰å‡ºå…·æœ‰ç‰¹å®šå‰ç¼€ã€åç¼€çš„å­—ç¬¦ä¸²ï¼š

```swift
let romeoAndJuliet = [
    "Act 1 Scene 1: Verona, A public place",
    "Act 1 Scene 2: Capulet's mansion",
    "Act 1 Scene 3: A room in Capulet's mansion",
    "Act 1 Scene 4: A street outside Capulet's mansion",
    "Act 1 Scene 5: The Great Hall in Capulet's mansion",
    "Act 2 Scene 1: Outside Capulet's mansion",
    "Act 2 Scene 2: Capulet's orchard",
    "Act 2 Scene 3: Outside Friar Lawrence's cell",
    "Act 2 Scene 4: A street in Verona",
    "Act 2 Scene 5: Capulet's mansion",
    "Act 2 Scene 6: Friar Lawrence's cell"
]



var act1SceneCount = 0
for scene in romeoAndJuliet {
    if scene.hasPrefix("Act 1 ") {
        act1SceneCount += 1
    }
}
print("There are \(act1SceneCount) scenes in Act 1")
// Prints "There are 5 scenes in Act 1"



var mansionCount = 0
var cellCount = 0
for scene in romeoAndJuliet {
    if scene.hasSuffix("Capulet's mansion") {
        mansionCount += 1
    } else if scene.hasSuffix("Friar Lawrence's cell") {
        cellCount += 1
    }
}
print("\(mansionCount) mansion scenes; \(cellCount) cell scenes")
// Prints "6 mansion scenes; 2 cell scenes"
```
## Unicodeè¡¨ç¤º


å‰æ–‡æ›¾æåˆ°Stringä¸NSStringçš„å­—ç¬¦ä¸²é•¿åº¦å·®å¼‚ï¼Œè¿™æ˜¯å› ä¸ºSwiftè¿™è¾¹çš„Stringé»˜è®¤ç”¨çš„æ˜¯21bit Unicode scalarå­—ç¬¦ç¼–ç æ–¹å¼ï¼Œç­‰ç›¸å½“äºUTF-32ï¼Œè€ŒOCä¸­çš„NSStringç”¨çš„æ˜¯UTF-16å­—ç¬¦ç¼–ç æ–¹å¼ã€‚äº‹å®ä¸Šï¼ŒSwiftä¸­å…±æœ‰UTF-8, UTF-16, UTF-32ä¸‰ç§è¡¨è¾¾æ–¹å¼ï¼ŒåŒºåˆ«å°±åœ¨äºCode unitä¸åŒï¼š
![char1.png](https://raw.githubusercontent.com/MikeYan01/mikeyan01.github.io/master/assets/images/Swift/char1.png)

![char2.png](https://raw.githubusercontent.com/MikeYan01/mikeyan01.github.io/master/assets/images/Swift/char2.png)

![char3.png](https://raw.githubusercontent.com/MikeYan01/mikeyan01.github.io/master/assets/images/Swift/char3.png)

# é›†åˆç±»å‹(Collection Types)
## æ•°ç»„(Array)
å°†æ‰€æœ‰å…ƒç´ å­˜å‚¨äºä¸€ä¸ªæœ‰åºåˆ—è¡¨ä¸­ã€‚

---

æ•°ç»„çš„åˆ›å»ºå¦‚ä¸‹ï¼Œå¯ä»¥ç›´æ¥åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„æˆ–è€…æ·»åŠ é¢„è®¾å€¼ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šæŸä¸ªå€¼é‡å¤å¤šæ¬¡ï¼Œæˆ–è€…æ˜¯å¤šä¸ªæ•°ç»„çš„æ‹¼æ¥
```swift
var someInts: [Int] = []
print("someInts is of type [Int] with \(someInts.count) items.")
// Prints "someInts is of type [Int] with 0 items."


var shoppingList: [String] = ["Eggs", "Milk"]
// shoppingList has been initialized with two initial items


var threeDoubles = Array(repeating: 0.0, count: 3)
// threeDoubles is of type [Double], and equals [0.0, 0.0, 0.0]


var anotherThreeDoubles = Array(repeating: 2.5, count: 3)
// anotherThreeDoubles is of type [Double], and equals [2.5, 2.5, 2.5]


var sixDoubles = threeDoubles + anotherThreeDoubles
// sixDoubles is inferred as [Double], and equals [0.0, 0.0, 0.0, 2.5, 2.5, 2.5]
```

---

æ•°ç»„çš„å¢åˆ æ”¹æŸ¥ï¼š
```swift
if shoppingList.isEmpty {
    print("The shopping list is empty.")
} else {
    print("The shopping list isn't empty.")
}


shoppingList.append("Flour")
// shoppingList now contains 3 items, and someone is making pancakes


shoppingList += ["Baking Powder"]
// shoppingList now contains 4 items
shoppingList += ["Chocolate Spread", "Cheese", "Butter"]
// shoppingList now contains 7 items


var firstItem = shoppingList[0]
// firstItem is equal to "Eggs"
shoppingList[0] = "Six eggs"
// the first item in the list is now equal to "Six eggs" rather than "Eggs"


shoppingList.insert("Maple Syrup", at: 0)
// shoppingList now contains 7 items
// "Maple Syrup" is now the first item in the list


let mapleSyrup = shoppingList.remove(at: 0)
// the item that was at index 0 has just been removed
// shoppingList now contains 6 items, and no Maple Syrup
// the mapleSyrup constant is now equal to the removed "Maple Syrup" string


let apples = shoppingList.removeLast()
// the last item in the array has just been removed
// shoppingList now contains 5 items, and no apples
// the apples constant is now equal to the removed "Apples" string
```

---

æ•°ç»„çš„éå†ï¼š
```swift
for (index, value) in shoppingList.enumerated() {
    print("Item \(index + 1): \(value)")
}
// Item 1: Six eggs
// Item 2: Milk
// Item 3: Flour
// Item 4: Baking Powder
// Item 5: Bananas
```
## é›†åˆ(Set)


é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ å¿…é¡»æ˜¯ä¸åŒçš„ï¼Œå¹¶ä¸”æ²¡æœ‰å›ºå®šçš„é¡ºåºã€‚è¢«å­˜å‚¨åœ¨Setä¸­çš„å…ƒç´ å¿…é¡»æ˜¯å¯ä»¥hashableçš„ï¼Œå³å¿…é¡»ç”Ÿæˆhash valueç”¨äºåˆ¤æ–­ä¸¤ä¸ªå…ƒç´ ä¹‹é—´æ˜¯å¦ç›¸åŒã€‚

---

é›†åˆçš„åˆ›å»ºå¦‚ä¸‹ï¼Œå¯ä»¥ç›´æ¥ç”Ÿæˆç©ºé›†åˆæ‰‹åŠ¨æ·»åŠ ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æ•°ç»„è¾…åŠ©æ·»åŠ ã€‚æ³¨æ„é›†åˆä¸­ä¼šè‡ªåŠ¨åº”ç”¨ç±»å‹æ¨å¯¼ï¼š

```swift
var letters = Set<Character>()
print("letters is of type Set<Character> with \(letters.count) items.")
// Prints "letters is of type Set<Character> with 0 items."
letters.insert("a")
// letters now contains 1 value of type Character
letters = []
// letters is now an empty set, but is still of type Set<Character>


var favoriteGenres: Set<String> = ["Rock", "Classical", "Hip hop"]
// favoriteGenres has been initialized with three initial items


var favoriteGenres: Set = ["Rock", "Classical", "Hip hop"]
```

---

é›†åˆçš„å¢åˆ æ”¹æŸ¥ï¼š
```swift
print("I have \(favoriteGenres.count) favorite music genres.")
// Prints "I have 3 favorite music genres."


if favoriteGenres.isEmpty {
    print("As far as music goes, I'm not picky.")
} else {
    print("I have particular music preferences.")
}
// Prints "I have particular music preferences."


favoriteGenres.insert("Jazz")
// favoriteGenres now contains 4 items


if let removedGenre = favoriteGenres.remove("Rock") {
    print("\(removedGenre)? I'm over it.")
} else {
    print("I never much cared for that.")
}
// Prints "Rock? I'm over it."


if favoriteGenres.contains("Funk") {
    print("I get up on the good foot.")
} else {
    print("It's too funky in here.")
}
// Prints "It's too funky in here."
```

---

é›†åˆçš„éå†ï¼Œæ³¨æ„é»˜è®¤æƒ…å†µä¸‹é›†åˆéå†æ˜¯æ— åºçš„ï¼Œå¦‚æœéœ€è¦æœ‰åºï¼Œå¯ä»¥å€ŸåŠ©sortedæ–¹æ³•è¿›è¡Œå€¼æ’åºï¼š
```swift
for genre in favoriteGenres {
    print("\(genre)")
}
// Classical
// Jazz
// Hip hop


for genre in favoriteGenres.sorted() {
    print("\(genre)")
}
// Classical
// Hip hop
// Jazz
```

---

é›†åˆçš„å››ç§é€»è¾‘è¿ç®—ç±»å‹ï¼š

![relation1.png](https://raw.githubusercontent.com/MikeYan01/mikeyan01.github.io/master/assets/images/Swift/relation1.png)

```swift
let oddDigits: Set = [1, 3, 5, 7, 9]
let evenDigits: Set = [0, 2, 4, 6, 8]
let singleDigitPrimeNumbers: Set = [2, 3, 5, 7]

oddDigits.union(evenDigits).sorted()
// [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
oddDigits.intersection(evenDigits).sorted()
// []
oddDigits.subtracting(singleDigitPrimeNumbers).sorted()
// [1, 9]
oddDigits.symmetricDifference(singleDigitPrimeNumbers).sorted()
// [1, 2, 9]
```
æ­¤å¤–ï¼Œè¿˜å¯ä»¥åˆ¤æ–­ä¸¤ä¸ªé›†åˆä¹‹é—´æ˜¯å¦å­˜åœ¨çˆ¶å­é›†å…³ç³»ä¸ç›¸äº¤å…³ç³»ï¼š

![relation2.png](https://raw.githubusercontent.com/MikeYan01/mikeyan01.github.io/master/assets/images/Swift/relation2.png)

```swift
let houseAnimals: Set = ["ğŸ¶", "ğŸ±"]
let farmAnimals: Set = ["ğŸ®", "ğŸ”", "ğŸ‘", "ğŸ¶", "ğŸ±"]
let cityAnimals: Set = ["ğŸ¦", "ğŸ­"]

houseAnimals.isSubset(of: farmAnimals)
// true
farmAnimals.isSuperset(of: houseAnimals)
// true
farmAnimals.isDisjoint(with: cityAnimals)
// true
```
## å­—å…¸(Dictionary)
å­˜å‚¨é”®å€¼å¯¹ã€‚æ³¨æ„é”®å¿…é¡»æ˜¯Hashableçš„ï¼Œè¿™ä¸€ç‚¹ä¸Setç±»ä¼¼ã€‚

---

å­—å…¸çš„åˆ›å»ºå¯ä»¥ä»ç©ºå¼€å§‹åˆ›å»ºï¼Œæˆ–è€…æ˜¯å€ŸåŠ©å­—é¢é‡ã€‚æ³¨æ„å½“æ‰€æœ‰keyç±»å‹ç›¸åŒã€æ‰€æœ‰valueç±»å‹ä¹Ÿç›¸åŒæ—¶ï¼Œå¯ä»¥åˆ©ç”¨Swiftè‡ªåŠ¨ç±»å‹æ¨å¯¼çš„ç‰¹ç‚¹ï¼Œçœå»åˆå§‹åŒ–æ—¶å£°æ˜å­—å…¸ç±»å‹ï¼š
```swift
var namesOfIntegers: [Int: String] = [:]
// namesOfIntegers is an empty [Int: String] dictionary


namesOfIntegers[16] = "sixteen"
// namesOfIntegers now contains 1 key-value pair
namesOfIntegers = [:]
// namesOfIntegers is once again an empty dictionary of type [Int: String]


var airports: [String: String] = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]
// or
var airports = ["YYZ": "Toronto Pearson", "DUB": "Dublin"]
```

---

å­—å…¸çš„å¢åˆ æ”¹æŸ¥ï¼š
```swift
print("The airports dictionary contains \(airports.count) items.")
// Prints "The airports dictionary contains 2 items."


if airports.isEmpty {
    print("The airports dictionary is empty.")
} else {
    print("The airports dictionary isn't empty.")
}
// Prints "The airports dictionary isn't empty."


airports["LHR"] = "London"
// the airports dictionary now contains 3 items


airports["LHR"] = "London Heathrow"
// the value for "LHR" has been changed to "London Heathrow"
```
ç”±äºå­—å…¸ä¸­å¯èƒ½ä¸å­˜åœ¨æŸä¸ªkeyï¼Œæˆ–è€…å­˜åœ¨æŸä¸ªkeyä½†ä¸å­˜åœ¨å¯¹åº”çš„valueï¼Œå› æ­¤éœ€è¦è€ƒè™‘åˆ°Optionalçš„æƒ…å†µï¼š
```swift
if let oldValue = airports.updateValue("Dublin Airport", forKey: "DUB") {
    print("The old value for DUB was \(oldValue).")
}
// Prints "The old value for DUB was Dublin."


if let airportName = airports["DUB"] {
    print("The name of the airport is \(airportName).")
} else {
    print("That airport isn't in the airports dictionary.")
}
// Prints "The name of the airport is Dublin Airport."


airports["APL"] = "Apple International"
// "Apple International" isn't the real airport for APL, so delete it
airports["APL"] = nil
// APL has now been removed from the dictionary


if let removedValue = airports.removeValue(forKey: "DUB") {
    print("The removed airport's name is \(removedValue).")
} else {
    print("The airports dictionary doesn't contain a value for DUB.")
}
// Prints "The removed airport's name is Dublin Airport."
```

---

å­—å…¸çš„éå†ï¼Œæ—¢å¯ä»¥éå†é”®å€¼å¯¹æœ¬èº«ï¼Œä¹Ÿå¯ä»¥å•ç‹¬éå†é”®æˆ–å€¼ï¼Œæˆ–è€…æå–åˆ°æ•°ç»„ä¸­ï¼š
```swift
for (airportCode, airportName) in airports {
    print("\(airportCode): \(airportName)")
}
// LHR: London Heathrow
// YYZ: Toronto Pearson


for airportCode in airports.keys {
    print("Airport code: \(airportCode)")
}
// Airport code: LHR
// Airport code: YYZ

for airportName in airports.values {
    print("Airport name: \(airportName)")
}
// Airport name: London Heathrow
// Airport name: Toronto Pearson


let airportCodes = [String](airports.keys)
// airportCodes is ["LHR", "YYZ"]

let airportNames = [String](airports.values)
// airportNames is ["London Heathrow", "Toronto Pearson"]
```
## é›†åˆçš„å¯å˜/ä¸å¯å˜æ€§


å–å†³äºå£°æ˜é›†åˆæ—¶å®šä¹‰ä¸ºå¸¸é‡è¿˜æ˜¯å˜é‡ï¼Œåªè¦æ˜¯å˜é‡å°±æ˜¯å¯å˜çš„ï¼Œå¯ä»¥æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹é›†åˆä¸­çš„å…ƒç´ ã€‚
# æ§åˆ¶æµ(Control Flow)
## Forå¾ªç¯


æœ€åŸºç¡€çš„for inå¾ªç¯ï¼Œå¯ä»¥ç›´æ¥å¿«é€Ÿéå†é›†åˆä¸­çš„å…ƒç´ ï¼š
```swift
let names = ["Anna", "Alex", "Brian", "Jack"]
for name in names {
    print("Hello, \(name)!")
}
// Hello, Anna!
// Hello, Alex!
// Hello, Brian!
// Hello, Jack!
```
for inå¾ªç¯å¯ä»¥æ­é…èŒƒå›´ä½¿ç”¨ï¼Œæ³¨æ„éå†æ—¶é‡åˆ°çš„å€¼å¦‚æœä¸ç”¨ï¼Œå¯ä»¥ç”¨_æ›¿ä»£ï¼š
```swift
for index in 1...5 {
    print("\(index) times 5 is \(index * 5)")
}
// 1 times 5 is 5
// 2 times 5 is 10
// 3 times 5 is 15
// 4 times 5 is 20
// 5 times 5 is 25


let base = 3
let power = 10
var answer = 1
for _ in 1...power {
    answer *= base
}
print("\(base) to the power of \(power) is \(answer)")
// Prints "3 to the power of 10 is 59049"
```
æœ‰æ—¶æˆ‘ä»¬å¸Œæœ›é—´éš”éå†ï¼Œå¯ä»¥åœ¨for inå¾ªç¯ä¸ŠåŠ ä¸ŠstrideæŒ‡å®šé—´éš”ï¼š
```swift
let hours = 12
let hourInterval = 3
for tickMark in stride(from: 3, through: hours, by: hourInterval) {
    // render the tick mark every 3 hours (3, 6, 9, 12)
}
```
## Whileå¾ªç¯
ç¬¬ä¸€ç§whileå¾ªç¯ä¸å…¶ä»–è¯­è¨€ç±»ä¼¼ï¼š
```swift
while condition {
    statements
}
```
ç¬¬äºŒç§åˆ™å’ŒCè¯­è¨€ä¸­çš„do-whileæ¥è¿‘ï¼Œä¸è¿‡å˜æˆäº†repeat-whileï¼š
```swift
repeat {
    statements
} while condition
```
## æ¡ä»¶è¯­å¥
æœ€ç®€å•çš„æ¡ä»¶è¯­å¥æ˜¯ifï¼Œå½“åˆ¤æ–­æ¡ä»¶ä¸ºtrueæ—¶æ‰§è¡Œåç»­è¯­å¥ï¼š
```swift
var temperatureInFahrenheit = 30
if temperatureInFahrenheit <= 32 {
    print("It's very cold. Consider wearing a scarf.")
}
// Prints "It's very cold. Consider wearing a scarf."
```

---

Switchè¯­å¥åˆ™å¯ä»¥æ–¹ä¾¿åœ°è¿›è¡Œå¤šä¸ªæ¡ä»¶ä¸‹çš„åˆ¤æ–­ä¸è·³è½¬ï¼š
```swift
switch some value to consider {
case value 1:
    respond to value 1
case value 2,
     value 3:
    respond to value 2 or 3
default:
    otherwise, do something else
}
```
æ³¨æ„ï¼š

- æ¯ä¸€ä¸ªcaseä¸‹ä¸éœ€è¦break
- å¿…é¡»ç©·å°½æ‰€æœ‰å¯èƒ½ï¼Œä¸èƒ½é—æ¼å€¼

â€‹

Swiftä¸­ä¸å…è®¸æœ‰caseè¢«éšå¼åœ°è½¬åˆ°å¦ä¸€ç§caseä¸‹è¿›è¡Œå¤„ç†ã€‚å¦‚æœæœ‰å¤šä¸ªcaseå…±äº«åŒä¸€ç§å¤„ç†æ–¹å¼ï¼Œéœ€è¦åœ¨åŒä¸€è¡Œä¸­ç”¨é€—å·åˆ†éš”å¼€å¤šä¸ªcaseï¼š
```swift
let anotherCharacter: Character = "a"
switch anotherCharacter {
case "a": // Invalid, the case has an empty body
case "A":
    print("The letter A")
default:
    print("Not the letter A")
}
// This will report a compile-time error.



let anotherCharacter: Character = "a"
switch anotherCharacter {
case "a", "A":
    print("The letter A")
default:
    print("Not the letter A")
}
// Prints "The letter A"
```
Switchè¿˜å¯ä»¥ç”¨æ¥å¤„ç†åŒºé—´ä¸tupleï¼š
```swift
let approximateCount = 62
let countedThings = "moons orbiting Saturn"
let naturalCount: String
switch approximateCount {
case 0:
    naturalCount = "no"
case 1..<5:
    naturalCount = "a few"
case 5..<12:
    naturalCount = "several"
case 12..<100:
    naturalCount = "dozens of"
case 100..<1000:
    naturalCount = "hundreds of"
default:
    naturalCount = "many"
}
print("There are \(naturalCount) \(countedThings).")
// Prints "There are dozens of moons orbiting Saturn."



let somePoint = (1, 1)
switch somePoint {
case (0, 0):
    print("\(somePoint) is at the origin")
case (_, 0):
    print("\(somePoint) is on the x-axis")
case (0, _):
    print("\(somePoint) is on the y-axis")
case (-2...2, -2...2):
    print("\(somePoint) is inside the box")
default:
    print("\(somePoint) is outside of the box")
}
// Prints "(1, 1) is inside the box"
```
Switchå¯ä»¥è¿›è¡Œå€¼åˆ¤å®šï¼Œæˆ–è€…é€šè¿‡whereè¿›è¡Œåˆ¤æ–­ï¼š
```swift
let anotherPoint = (2, 0)
switch anotherPoint {
case (let x, 0):
    print("on the x-axis with an x value of \(x)")
case (0, let y):
    print("on the y-axis with a y value of \(y)")
case let (x, y):
    print("somewhere else at (\(x), \(y))")
}
// Prints "on the x-axis with an x value of 2"



let yetAnotherPoint = (1, -1)
switch yetAnotherPoint {
case let (x, y) where x == y:
    print("(\(x), \(y)) is on the line x == y")
case let (x, y) where x == -y:
    print("(\(x), \(y)) is on the line x == -y")
case let (x, y):
    print("(\(x), \(y)) is just some arbitrary point")
}
// Prints "(1, -1) is on the line x == -y"
```
## æ§åˆ¶è½¬ç§»
å¸¸è§çš„æ§åˆ¶è½¬ç§»å…³é”®è¯æœ‰ï¼š

- continueï¼šè·³è¿‡å½“å‰å¾ªç¯ä¸­çš„å‰©ä½™è¯­å¥ï¼Œç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¬¡å¾ªç¯
- breakï¼šè·³è¿‡å½“å‰å¾ªç¯
- fallthroughï¼šæ•ˆä»¿Cè¯­è¨€çš„switchè¯­å¥ï¼Œæ‰§è¡Œå®Œcaseåè¿˜ä¼šå†æ‰§è¡Œdefaultçš„æƒ…å†µ
- returnï¼šè¿”å›å€¼
```swift
let integerToDescribe = 5
var description = "The number \(integerToDescribe) is"
switch integerToDescribe {
case 2, 3, 5, 7, 11, 13, 17, 19:
    description += " a prime number, and also"
    fallthrough
default:
    description += " an integer."
}
print(description)
// Prints "The number 5 is a prime number, and also an integer."
```

---

æ­¤å¤–ï¼ŒSwiftæä¾›äº†æ ‡ç­¾è¯­å¥ï¼Œç”¨äºæ›´ç²¾ç¡®åœ°è¿›è¡Œæ§åˆ¶ä»£ç å—çš„è¿è¡Œï¼š
```swift
let finalSquare = 25
var board = [Int](repeating: 0, count: finalSquare + 1)
board[03] = +08; board[06] = +11; board[09] = +09; board[10] = +02
board[14] = -10; board[19] = -11; board[22] = -02; board[24] = -08
var square = 0
var diceRoll = 0

gameLoop: while square != finalSquare {
    diceRoll += 1
    if diceRoll == 7 { diceRoll = 1 }
    switch square + diceRoll {
    case finalSquare:
        // diceRoll will move us to the final square, so the game is over
        break gameLoop
    case let newSquare where newSquare > finalSquare:
        // diceRoll will move us beyond the final square, so roll again
        continue gameLoop
    default:
        // this is a valid move, so find out its effect
        square += diceRoll
        square += board[square]
    }
}
print("Game over!")
```
## APIå¯ç”¨æ€§
Swiftä¸­å…è®¸ç”¨æˆ·æŒ‡å®šä¸ºä¸åŒç‰ˆæœ¬SDKæä¾›ä¸åŒçš„è¿è¡Œä»£ç ï¼š
```swift
if #available(platform name version, ..., *) {
    statements to execute if the APIs are available
} else {
    fallback statements to execute if the APIs are unavailable
}


if #available(iOS 10, macOS 10.12, *) {
    // Use iOS 10 APIs on iOS, and use macOS 10.12 APIs on macOS
} else {
    // Fall back to earlier iOS and macOS APIs
}
```
# å‡½æ•°(Functions)
## åŸºæœ¬ç»„æˆ


å‡½æ•°ç”±funcå…³é”®å­—å®šä¹‰ï¼Œå¹¶ä¸”æœ‰åå­—ã€å‚æ•°ã€è¿”å›ç±»å‹ï¼š
```swift
func greet(person: String) -> String {
    let greeting = "Hello, " + person + "!"
    return greeting
}
```
å‡½æ•°å¯ä»¥æœ‰0ï½å¤šä¸ªå‚æ•°å’Œè¿”å›å€¼ï¼š
```swift
func sayHelloWorld() -> String {
    return "hello, world"
}
print(sayHelloWorld())
// Prints "hello, world"



func greet(person: String, alreadyGreeted: Bool) -> String {
    if alreadyGreeted {
        return greetAgain(person: person)
    } else {
        return greet(person: person)
    }
}
print(greet(person: "Tim", alreadyGreeted: true))
// Prints "Hello again, Tim!"



func greet(person: String) {
    print("Hello, \(person)!")
}
greet(person: "Dave")
// Prints "Hello, Dave!"



func minMax(array: [Int]) -> (min: Int, max: Int) {
    var currentMin = array[0]
    var currentMax = array[0]
    for value in array[1..<array.count] {
        if value < currentMin {
            currentMin = value
        } else if value > currentMax {
            currentMax = value
        }
    }
    return (currentMin, currentMax)
}
```
## å‚æ•°æ ‡ç­¾ã€åå­—


æ¯ä¸ªå‡½æ•°çš„å‚æ•°éƒ½æœ‰ä¸€ä¸ªå‚æ•°æ ‡ç­¾(argument label)å’Œå‚æ•°åå­—(parameter name)ã€‚å‚æ•°æ ‡ç­¾ç”¨äºå¤–éƒ¨è°ƒç”¨å‡½æ•°æ—¶ä½¿ç”¨ï¼Œè€Œå‚æ•°åå­—åˆ™ç”¨äºå‡½æ•°å†…éƒ¨å®ç°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœä¸æŒ‡å®šå‚æ•°åå­—ï¼Œå‚æ•°åå­—å°†ä¸å‚æ•°æ ‡ç­¾ä¿æŒä¸€è‡´ï¼š
```swift
func someFunction(argumentLabel parameterName: Int) {
    // In the function body, parameterName refers to the argument value
    // for that parameter.
}


func greet(person: String, from hometown: String) -> String {
    return "Hello \(person)!  Glad you could visit from \(hometown)."
}
print(greet(person: "Bill", from: "Cupertino"))
// Prints "Hello Bill!  Glad you could visit from Cupertino."


func someFunction(firstParameterName: Int, secondParameterName: Int) {
    // In the function body, firstParameterName and secondParameterName
    // refer to the argument values for the first and second parameters.
}
someFunction(firstParameterName: 1, secondParameterName: 2)
```

---

å¦‚æœä¸æƒ³ç»™å‚æ•°æ ‡ç­¾å‘½åï¼Œä¹Ÿå¯ä»¥ç”¨ä¸‹åˆ’çº¿ä»£æ›¿ï¼Œè¿™æ ·å‡½æ•°è°ƒç”¨ä¼ å…¥å‚æ•°æ—¶å°±ä¸ç”¨æŒ‡å®šæ ‡ç­¾ï¼š
```swift
func someFunction(_ firstParameterName: Int, secondParameterName: Int) {
    // In the function body, firstParameterName and secondParameterName
    // refer to the argument values for the first and second parameters.
}
someFunction(1, secondParameterName: 2)

```

---

æ­¤å¤–å¯ä»¥æŒ‡å®šå‚æ•°çš„é»˜è®¤å‚æ•°ï¼š
```swift
func someFunction(parameterWithoutDefault: Int, parameterWithDefault: Int = 12) {
    // If you omit the second argument when calling this function, then
    // the value of parameterWithDefault is 12 inside the function body.
}
someFunction(parameterWithoutDefault: 3, parameterWithDefault: 6) // parameterWithDefault is 6
someFunction(parameterWithoutDefault: 4) // parameterWithDefault is 12
```

---

å¦‚æœåœ¨å‚æ•°ååŠ ä¸Š...ï¼Œè¡¨ç¤ºå‡½æ•°å¯ä»¥æ¥å—0ï½å¤šä¸ªè¿™ç§ç±»å‹çš„å‚æ•°(variadic parameter)ï¼Œæä¾›äº†æ›´é«˜çš„çµæ´»æ€§ï¼š
```swift
func arithmeticMean(_ numbers: Double...) -> Double {
    var total: Double = 0
    for number in numbers {
        total += number
    }
    return total / Double(numbers.count)
}
arithmeticMean(1, 2, 3, 4, 5)
// returns 3.0, which is the arithmetic mean of these five numbers
arithmeticMean(3, 8.25, 18.75)
// returns 10.0, which is the arithmetic mean of these three numbers
```

---

é»˜è®¤æƒ…å†µä¸‹å‡½æ•°å‚æ•°éƒ½æ˜¯åªè¯»çš„ã€‚å¦‚æœè¦åœ¨å‡½æ•°å†…éƒ¨ä¿®æ”¹å‚æ•°çš„å€¼ï¼Œå¯ä»¥åŠ ä¸Šinoutå±æ€§ï¼š
```swift
func swapTwoInts(_ a: inout Int, _ b: inout Int) {
    let temporaryA = a
    a = b
    b = temporaryA
}

var someInt = 3
var anotherInt = 107
swapTwoInts(&someInt, &anotherInt)
print("someInt is now \(someInt), and anotherInt is now \(anotherInt)")
// Prints "someInt is now 107, and anotherInt is now 3"
```
æ³¨æ„ï¼Œè°ƒç”¨æ—¶inoutä¿®é¥°çš„å‚æ•°éœ€è¦ç”¨&ä¿®é¥°ã€‚inoutå‚æ•°ä¸èƒ½æ‹¥æœ‰é»˜è®¤å‚æ•°ï¼Œä¹Ÿä¸èƒ½ç”¨äºä¿®é¥°variadic parameterã€‚
## å‡½æ•°ç±»å‹


é»˜è®¤æƒ…å†µä¸‹ï¼Œå‡½æ•°ä¸å†™æ˜è¿”å›ç±»å‹å³ä»£è¡¨ç€è¿”å›voidç±»å‹ï¼š
```swift
func printHelloWorld() {
    print("hello, world")
}
```
å¯ä»¥å°†å‡½æ•°å½“ä½œå˜é‡ä½¿ç”¨ï¼Œä¸€ä¸ªå˜é‡å¯ä»¥å…ˆåè¢«å¤šä¸ªå‡½æ•°èµ‹å€¼ï¼š
```swift
func addTwoInts(_ a: Int, _ b: Int) -> Int {
    return a + b
}
func multiplyTwoInts(_ a: Int, _ b: Int) -> Int {
    return a * b
}

var mathFunction: (Int, Int) -> Int = addTwoInts
print("Result: \(mathFunction(2, 3))")
// Prints "Result: 5"

mathFunction = multiplyTwoInts
print("Result: \(mathFunction(2, 3))")
// Prints "Result: 6"
```
ä¹Ÿå¯ä»¥å°†å‡½æ•°å½“ä½œå…¶ä»–å‡½æ•°çš„å‚æ•°ä½¿ç”¨ï¼š
```swift
func printMathResult(_ mathFunction: (Int, Int) -> Int, _ a: Int, _ b: Int) {
    print("Result: \(mathFunction(a, b))")
}
printMathResult(addTwoInts, 3, 5)
// Prints "Result: 8"
```
è¿˜å¯ä»¥å°†å‡½æ•°å½“ä½œå…¶ä»–å‡½æ•°çš„è¿”å›å€¼ï¼š
```swift
func stepForward(_ input: Int) -> Int {
    return input + 1
}
func stepBackward(_ input: Int) -> Int {
    return input - 1
}

func chooseStepFunction(backward: Bool) -> (Int) -> Int {
    return
    
    backward ? stepBackward : stepForward
}

var currentValue = 3
let moveNearerToZero = chooseStepFunction(backward: currentValue > 0)
// moveNearerToZero now refers to the stepBackward() function


print("Counting to zero:")
// Counting to zero:
while currentValue != 0 {
    print("\(currentValue)... ")
    currentValue = moveNearerToZero(currentValue)
}
print("zero!")
// 3...
// 2...
// 1...
// zero!
```
## åµŒå¥—å‡½æ•°
å‡½æ•°å¯ä»¥å®šä¹‰åœ¨å…¶ä»–å‡½æ•°ä¸­ï¼š
```swift
func chooseStepFunction(backward: Bool) -> (Int) -> Int {
    func stepForward(input: Int) -> Int { return input + 1 }
    func stepBackward(input: Int) -> Int { return input - 1 }
    return backward ? stepBackward : stepForward
}
var currentValue = -4
let moveNearerToZero = chooseStepFunction(backward: currentValue > 0)
// moveNearerToZero now refers to the nested stepForward() function


while currentValue != 0 {
    print("\(currentValue)... ")
    currentValue = moveNearerToZero(currentValue)
}
print("zero!")
// -4...
// -3...
// -2...
// -1...
// zero!
```
# é—­åŒ…(Closures)
## ä¸€èˆ¬å½¢å¼
é—­åŒ…æ ¼å¼å¦‚ä¸‹ï¼š
```swift
{ (parameters) -> return type in
    statements
}
```
ä¾‹å¦‚å®šä¹‰æ•°ç»„æ’åºè§„åˆ™ï¼š
```swift
let names = ["Chris", "Alex", "Ewa", "Barry", "Daniella"]
reversedNames = names.sorted(by: { (s1: String, s2: String) -> Bool in
    return s1 > s2
})
```
ç”±äºSwiftçš„è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œä¸Šè¿°å‚æ•°ã€è¿”å›ç±»å‹éƒ½ä¸éœ€è¦æ˜¾å¼åœ°å†™å‡ºï¼Œç”±æ­¤æ‹¬å·ä¹Ÿå¯ä»¥è¢«çœç•¥ï¼š
```swift
reversedNames = names.sorted(by: { s1, s2 in s1 > s2 } )
```
å€˜è‹¥è¿˜æƒ³è¦æ›´ç¼©ç•¥ï¼Œè¿˜æœ‰ä¸¤ç§æ–¹å¼ï¼š

- ä½¿ç”¨shorthand argumentï¼Œé€šè¿‡$0, $1, $2...çš„å½¢å¼è¡¨ç¤ºå‚æ•°ä¸ªæ•°ï¼Œç”±æ­¤èƒ½çœå»inå…³é”®å­—
- ä½¿ç”¨è¿ç®—ç¬¦æ–¹æ³•ï¼Œä¸è¿‡å¿…é¡»æ˜¯Swiftèƒ½å¤Ÿè¯†åˆ«å¹¶ä¸”æ¨æ–­å¾—å‡ºç±»å‹çš„ç¬¦å·
```swift
reversedNames = names.sorted(by: { $0 > $1 } )

reversedNames = names.sorted(by: >)
```
## å°¾é—­åŒ…
å¦‚æœæƒ³å°†é—­åŒ…ä¼ é€’ç»™å‡½æ•°ä½œä¸ºæœ€åä¸€ä¸ªå‚æ•°ï¼Œå¹¶ä¸”è¿™ä¸ªé—­åŒ…å¾ˆé•¿ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å°¾é—­åŒ…ã€‚å°¾é—­åŒ…å†™èµ·æ¥æ›´åŠ ç²¾ç‚¼ï¼Œè°ƒç”¨æ—¶ä¸ç”¨å†™å‡½æ•°æ ‡ç­¾ï¼š
```swift
func someFunctionThatTakesAClosure(closure: () -> Void) {
    // function body goes here
}

// Here's how you call this function without using a trailing closure:

someFunctionThatTakesAClosure(closure: {
    // closure's body goes here
})

// Here's how you call this function with a trailing closure instead:

someFunctionThatTakesAClosure() {
    // trailing closure's body goes here
}


reversedNames = names.sorted { $0 > $1 }
```
```swift
let digitNames = [
    0: "Zero", 1: "One", 2: "Two",   3: "Three", 4: "Four",
    5: "Five", 6: "Six", 7: "Seven", 8: "Eight", 9: "Nine"
]
let numbers = [16, 58, 510]
let strings = numbers.map { (number) -> String in
    var number = number
    var output = ""
    repeat {
        output = digitNames[number % 10]! + output
        number /= 10
    } while number > 0
    return output
}
// strings is inferred to be of type [String]
// its value is ["OneSix", "FiveEight", "FiveOneZero"]
```
## æ•è·å€¼(Capturing Values)


çœ‹ä»¥ä¸‹ä¾‹å­ï¼š
```swift
func makeIncrementer(forIncrement amount: Int) -> () -> Int {
    var runningTotal = 0
    func incrementer() -> Int {
        runningTotal += amount
        return runningTotal
    }
    return incrementer
}
```
å†…å‡½æ•°incrementer()å¹¶æ²¡æœ‰å®šä¹‰ä»»ä½•å‚æ•°ï¼Œä½†æ˜¯å´èƒ½è®¿é—®ã€ä¿®æ”¹runningTotalå’Œamountä¸¤ä¸ªå˜é‡ã€‚è¿™æ˜¯å› ä¸ºå®ƒé€šè¿‡æ•è·æœºåˆ¶ï¼Œä»å¤–å‡½æ•°makeIncrementer()ä¸­è·å–åˆ°äº†è¿™ä¸¤ä¸ªå˜é‡çš„å¼•ç”¨ã€‚

æ­¤å¤„æ•è·å˜é‡çš„å¼•ç”¨ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªå¥½å¤„ï¼š

- ä¿è¯ä¸¤ä¸ªå˜é‡ä¸ä¼šæ¶ˆå¤±
- ä¿è¯incrementer()è¢«è°ƒç”¨æ—¶ï¼ŒrunningTotalæ˜¯å¯ç”¨çš„


ç„¶è€Œéœ€è¦æ³¨æ„ï¼Œå¦‚æœå€¼ä¸ä¼šè¢«é—­åŒ…ä¿®æ”¹ï¼ŒSwiftå¯èƒ½ä¼šå‡ºäºæ€§èƒ½ä¼˜åŒ–ç›®çš„ï¼Œé€‰æ‹©æ•è·å€¼çš„æ‹·è´è€Œéå¼•ç”¨ã€‚

ä»¥ä¸‹æ˜¯å®Œæ•´çš„è°ƒç”¨ä¾‹å­ï¼Œæ³¨æ„å¦‚æœå£°æ˜äº†ç¬¬äºŒä¸ªincrementeræ—¶ï¼Œå†…éƒ¨çš„runningTotalæ˜¯å’Œç¬¬ä¸€ä¸ªincrementerç‹¬ç«‹çš„ï¼Œå› æ­¤ä¸¤ä¸ªincrementerå¹¶ä¸ä¼šç›¸äº’å½±å“ï¼š
```swift
let incrementByTen = makeIncrementer(forIncrement: 10)

incrementByTen()
// returns a value of 10
incrementByTen()
// returns a value of 20
incrementByTen()
// returns a value of 30



let incrementBySeven = makeIncrementer(forIncrement: 7)
incrementBySeven()
// returns a value of 7
incrementByTen()
// returns a value of 40
```
ä¸è¿‡ï¼Œç”±äºå‡½æ•°å’Œé—­åŒ…éƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œå› æ­¤å¦‚æœå°†ä¸Šè¿°incrementerèµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼Œä¸ä¼šæ”¹å˜å†…éƒ¨çš„runningTotalï¼Œå› ä¸ºå®é™…ä¸Šä»–ä»¬è°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªæ–¹æ³•ï¼š
```swift
let alsoIncrementByTen = incrementByTen
alsoIncrementByTen()
// returns a value of 50

incrementByTen()
// returns a value of 60
```
## é€ƒé€¸é—­åŒ…(Escaping Closures)


å¦‚æœä¸€ä¸ªé—­åŒ…ä½œä¸ºå‚æ•°è¢«ä¼ é€’ç»™å‡½æ•°ï¼Œä½†å´åœ¨å‡½æ•°è¿”å›ä¹‹åæ‰è¢«è°ƒç”¨ï¼Œå°±ç§°è¿™ä¸ªé—­åŒ…ä¸ºé€ƒé€¸é—­åŒ…ã€‚æ­¤æ—¶ï¼Œéœ€è¦æ·»åŠ ä¸ºé—­åŒ…æ·»åŠ @escapingå…³é”®å­—ï¼Œè¡¨ç¤ºè¿™ä¸ªé—­åŒ…éœ€è¦é€ƒé€¸ï¼Œå¦åˆ™å°±ä¼šåœ¨è¢«è°ƒç”¨ä¹‹å‰ï¼Œéšç€å¤–å›´å‡½æ•°ç”Ÿå‘½å‘¨æœŸç»“æŸè€Œè¢«ä¸€èµ·é”€æ¯ã€‚

ä»¥ä¸‹ä¾‹å­ä¸­ï¼ŒcompletionHandlerè®¿é—®äº†å‡½æ•°ä½œç”¨åŸŸå¤–çš„æ•°ç»„completionHandlersï¼Œå› æ­¤æ•°ç»„å†…çš„é—­åŒ…æœ‰å¯èƒ½åœ¨å‡½æ•°è¿”å›åè¢«æ‰§è¡Œï¼š
```swift
var completionHandlers: [() -> Void] = []
func someFunctionWithEscapingClosure(completionHandler: @escaping () -> Void) {
    completionHandlers.append(completionHandler)
}
```
## è‡ªåŠ¨é—­åŒ…


è°ƒç”¨æ—¶ä¸ç”¨æŒ‡å®šå‚æ•°ï¼Œç®€åŒ–è°ƒç”¨æ—¶çš„ç¬¦å·ï¼›å¹¶ä¸”å¯ä»¥äººä¸ºåœ°å†³å®šé—­åŒ…çš„æ‰§è¡Œæ—¶æœºï¼š

åŸå§‹ç‰ˆï¼š
```swift
var customersInLine = ["Chris", "Alex", "Ewa", "Barry", "Daniella"]
let customerProvider = { customersInLine.remove(at: 0) }
print(customersInLine.count)
// Prints "5"

print("Now serving \(customerProvider())!")
// Prints "Now serving Chris!"
print(customersInLine.count)
// Prints "4"

// customersInLine is ["Alex", "Ewa", "Barry", "Daniella"]
func serve(customer customerProvider: () -> String) {
    print("Now serving \(customerProvider())!")
}
serve(customer: { customersInLine.remove(at: 0) } )
// Prints "Now serving Alex!"
```
ä½¿ç”¨è‡ªåŠ¨é—­åŒ…ï¼šæ³¨æ„è°ƒç”¨æ—¶customerå‚æ•°è‡ªåŠ¨è¢«è½¬åŒ–ä¸ºäº†é—­åŒ…ï¼š
```swift
// customersInLine is ["Ewa", "Barry", "Daniella"]
func serve(customer customerProvider: @autoclosure () -> String) {
    print("Now serving \(customerProvider())!")
}
serve(customer: customersInLine.remove(at: 0))
// Prints "Now serving Ewa!"
```
è‡ªåŠ¨é—­åŒ…å’Œé€ƒé€¸ä¸¤ä¸ªå‚æ•°å¯ä»¥åŒæ—¶ä½œç”¨ï¼š
```swift
// customersInLine is ["Barry", "Daniella"]
var customerProviders: [() -> String] = []
func collectCustomerProviders(_ customerProvider: @autoclosure @escaping () -> String) {
    customerProviders.append(customerProvider)
}
collectCustomerProviders(customersInLine.remove(at: 0))
collectCustomerProviders(customersInLine.remove(at: 0))

print("Collected \(customerProviders.count) closures.")
// Prints "Collected 2 closures."
for customerProvider in customerProviders {
    print("Now serving \(customerProvider())!")
}
// Prints "Now serving Barry!"
// Prints "Now serving Daniella!"
```
# æšä¸¾
## æšä¸¾å£°æ˜
ä½¿ç”¨enumå…³é”®å­—å¯ä»¥å£°æ˜ä¸€ä¸ªæšä¸¾ç±»å‹ï¼Œç”¨äºå­˜å‚¨ä¸€ç»„ç›¸å…³çš„å˜é‡ï¼Œå¹¶ä¸”èƒ½å¤Ÿä¿è¯å˜é‡ç±»å‹å®‰å…¨ï¼š
```swift
enum SomeEnumeration {
    // enumeration definition goes here
}


enum CompassPoint {
    case north
    case south
    case east
    case west
}


enum Planet {
    case mercury, venus, earth, mars, jupiter, saturn, uranus, neptune
}
```
å£°æ˜ä¸€ä¸ªenumå¯ä»¥ç†è§£ä¸ºå£°æ˜äº†ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œè®¿é—®æ—¶é€šè¿‡'.'ç¬¦å·å®ç°ã€‚æ³¨æ„æ—¢å¯ä»¥æ˜¾ç¤ºå†™å‡ºenumç±»å‹åï¼Œä¹Ÿå¯ä»¥ä¸å†™ï¼Œç”±Swiftè‡ªåŠ¨æ¨å¯¼ï¼š
```swift
var directionToHead = CompassPoint.west
irectionToHead = .east
```
## æ­é…Switchè¯­å¥
enumç»å¸¸ä¸Switchè¯­å¥æ­é…ã€‚æ³¨æ„Switchè¯­å¥ä¸èƒ½é—æ¼caseï¼Œå› æ­¤æ‰€æœ‰enumçš„æƒ…å†µéƒ½éœ€è¦éåŠï¼›å¦åˆ™å°±å¿…é¡»ä½¿ç”¨defaultè¯­å¥ï¼Œä¸ºæ²¡æœ‰æ˜¾å¼éåŠåˆ°çš„enumæƒ…å†µæä¾›é»˜è®¤çš„å¤„ç†æ–¹å¼ï¼š
```swift
directionToHead = .south
switch directionToHead {
case .north:
    print("Lots of planets have a north")
case .south:
    print("Watch out for penguins")
case .east:
    print("Where the sun rises")
case .west:
    print("Where the skies are blue")
}
// Prints "Watch out for penguins"


let somePlanet = Planet.earth
switch somePlanet {
case .earth:
    print("Mostly harmless")
default:
    print("Not a safe place for humans")
}
// Prints "Mostly harmless"
```
## æ­é…å¾ªç¯è¯­å¥
enumå¯ä»¥ä¸å¾ªç¯è¯­å¥æ­é…ä½¿ç”¨ï¼š
```swift
enum Beverage: CaseIterable {
    case coffee, tea, juice
}

let numberOfChoices = Beverage.allCases.count
print("\(numberOfChoices) beverages available")
// Prints "3 beverages available"

for beverage in Beverage.allCases {
    print(beverage)
}
// coffee
// tea
// juice
```
## å…³è”å€¼(Associated Values)
æšä¸¾å¯ä»¥æŒ‡å®šå­˜å‚¨å˜é‡çš„ç±»å‹ï¼Œå…³è”å¯¹åº”çš„å˜é‡ç±»å‹å€¼ï¼š
```swift
enum Barcode {
    case upc(Int, Int, Int, Int)
    case qrCode(String)
}


var productBarcode = Barcode.upc(8, 85909, 51226, 3)
productBarcode = .qrCode("ABCDEFGHIJKLMNOP")
```
åœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥é€šè¿‡letæˆ–è€…varè§£æå‡ºæ¯ä¸ªenum caseä¸­çš„å…³è”å€¼ï¼Œè¿›è€Œåˆ¤æ–­å±äºå“ªä¸€ç§caseã€‚æ³¨æ„å¦‚æœæ‰€æœ‰å…³è”å€¼ç±»å‹ç›¸åŒï¼Œå¯ä»¥ç›´æ¥åœ¨caseåå‰ç®€å†™ï¼š
```swift
switch productBarcode {
case .upc(let numberSystem, let manufacturer, let product, let check):
    print("UPC: \(numberSystem), \(manufacturer), \(product), \(check).")
case .qrCode(let productCode):
    print("QR code: \(productCode).")
}
// Prints "QR code: ABCDEFGHIJKLMNOP."


switch productBarcode {
case let .upc(numberSystem, manufacturer, product, check):
    print("UPC : \(numberSystem), \(manufacturer), \(product), \(check).")
case let .qrCode(productCode):
    print("QR code: \(productCode).")
}
// Prints "QR code: ABCDEFGHIJKLMNOP."

```
## åŸå§‹å€¼(Raw Values)
Swiftä¸­çš„enumå¯ä»¥æŒ‡å®šå­˜å‚¨çš„ç±»å‹ï¼Œä»¥åŠæ¯ä¸ªcaseçš„é»˜è®¤åŸå§‹å€¼ï¼š
```swift
enum ASCIIControlCharacter: Character {
    case tab = "\t"
    case lineFeed = "\n"
    case carriageReturn = "\r"
}

```
æ³¨æ„å¹¶ä¸éœ€è¦ä¸ºæ¯ä¸ªcaseæ˜¾å¼åœ°èµ‹å€¼ã€‚ä¾‹å¦‚ä»¥ä¸‹ä¾‹å­ä¸­ï¼Œç”±äºç¬¬ä¸€ä¸ªcaseå·²ç»è¢«èµ‹å€¼ä¸º1ï¼Œè€Œæ•´ä¸ªenumå­˜å‚¨çš„ç±»å‹ä¸ºæ•´æ•°ï¼Œå› æ­¤Swiftä¼šè‡ªåŠ¨è¿›è¡Œæ¨å¯¼ï¼Œå°†åç»­çš„caseåŸå§‹å€¼åˆ†åˆ«è®¾å®šä¸º2ï¼Œ3ï¼Œ...ï¼š
```swift
enum Planet: Int {
    case mercury = 1, venus, earth, mars, jupiter, saturn, uranus, neptune
}

let earthsOrder = Planet.earth.rawValue
// earthsOrder is 3
```
è€ŒStringç±»å‹çš„åŸå§‹å€¼å°±æ˜¯Stringæœ¬èº«ï¼š
```swift
enum CompassPoint: String {
    case north, south, east, west
}

let sunsetDirection = CompassPoint.west.rawValue
// sunsetDirection is "west"
```

---

å¯ä»¥åˆ©ç”¨åŸå§‹å€¼æ„é€ ä¸€ä¸ªcaseã€‚æ³¨æ„è¿™æ ·çš„æ„é€ å¯èƒ½ä¼šå¤±è´¥ï¼Œå› ä¸ºè¾“å…¥çš„åŸå§‹å€¼ä¸èƒ½ä¿è¯å¾—åˆ°ä¸€ä¸ªæœ‰æ•ˆçš„caseï¼š
```swift
let possiblePlanet = Planet(rawValue: 7)
// possiblePlanet is of type Planet? and equals Planet.uranus


let positionToFind = 11
if let somePlanet = Planet(rawValue: positionToFind) {
    switch somePlanet {
    case .earth:
        print("Mostly harmless")
    default:
        print("Not a safe place for humans")
    }
} else {
    print("There isn't a planet at position \(positionToFind)")
}
// Prints "There isn't a planet at position 11"
```
## é€’å½’æšä¸¾
å¦‚æœæŸä¸ªenum caseçš„å…³è”å€¼ä¹Ÿæ˜¯ä¸€ä¸ªenumï¼Œå°±å¿…é¡»å°†è¿™ä¸ªenum caseç”¨indirectå…³é”®å­—ä¿®é¥°ï¼Œæˆ–è€…ä¿®é¥°æ•´ä¸ªenumæœ¬èº«ï¼š
```swift
enum ArithmeticExpression {
    case number(Int)
    indirect case addition(ArithmeticExpression, ArithmeticExpression)
    indirect case multiplication(ArithmeticExpression, ArithmeticExpression)
}


let five = ArithmeticExpression.number(5)
let four = ArithmeticExpression.number(4)
let sum = ArithmeticExpression.addition(five, four)
let product = ArithmeticExpression.multiplication(sum, ArithmeticExpression.number(2))
```
é€’å½’æšä¸¾å¯ä»¥æ­é…å‡½æ•°ä½¿ç”¨ï¼š
```swift
func evaluate(_ expression: ArithmeticExpression) -> Int {
    switch expression {
    case let .number(value):
        return value
    case let .addition(left, right):
        return evaluate(left) + evaluate(right)
    case let .multiplication(left, right):
        return evaluate(left) * evaluate(right)
    }
}

print(evaluate(product))
// Prints "18"
```
